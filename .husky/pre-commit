echo "ğŸ” Analizando TODO el proyecto (primera ejecuciÃ³n)..."

# 1. VerificaciÃ³n de tipos TypeScript
echo "ğŸ” TypeScript: Verificando tipos..."
npm run type-check || {
  echo "âŒ Errores de tipos TypeScript encontrados"
  exit 1
}

# 2. Linting completo (todos los archivos)
echo "ğŸ§¹ ESLint: Verificando todos los archivos .ts..."
npm run lint || {
  echo "âŒ ESLint encontrÃ³ errores irreparables"
  exit 1
}

# 3. Formateo completo
echo "ğŸ¨ Prettier: Formateando todo el cÃ³digo..."
npm run format || {
  echo "âŒ Error al formatear"
  exit 1
}

# 4. Build del proyecto (comentado para evitar redundancia con pre-push)
#echo "ğŸ—ï¸ Verificando compilaciÃ³n..."
#npm run build || {
#  echo "âŒ Error: El build fallÃ³"
#  exit 1
#}

# 5. Opcional: AÃ±ade los cambios de formato al commit
git add .
echo "âœ… AnÃ¡lisis completo! Archivos formateados aÃ±adidos al commit"
